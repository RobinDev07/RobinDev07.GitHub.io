<!DOCTYPE html>
<html>
<head>
<title>CMDShop配置文档</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="cmdshop%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3101">CMDShop配置文档1.0.1</h1>
<h2 id="1-%E6%96%87%E4%BB%B6%E6%A1%86%E6%9E%B6">1. 文件框架</h2>
<p>此文档讲述的是&quot;/LLCMD/config/shop.json&quot;的配置。在游戏内使用&quot;/xshop&quot;命令打开菜单。</p>
<pre><code>shop.json
├index(主目录索引)
├主目录1┬goods(商品)
│       ├random(随机商品)┬goods1
│       │                ├goods2
│       │                …
│       ├dir(次目录)─…
│       …
├主目录2─…
…
</code></pre>
<h2 id="2-%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE">2. 文件配置</h2>
<h3 id="21-%E4%B8%BB%E7%9B%AE%E5%BD%95">2.1. 主目录</h3>
<pre><code>{
    &quot;index&quot;: [&quot;索引1&quot;, &quot;索引2&quot;], //主目录索引
    &quot;version&quot;: 1, //商店配置文件版本
    &quot;gift_code&quot;: {}, //礼品码
    &quot;索引1&quot;: [ //主目录1(名称:索引1)
        …(目录商品列表)
    ],
    &quot;索引2&quot;: [ //主目录2
        …(目录商品列表)
    ], 
    &quot;索引3&quot;: [ //主目录3
        …(目录商品列表)
    ], 
    …(更多主目录)
}
</code></pre>
<p>&quot;index&quot;中填写的&quot;索引1&quot;和&quot;索引2&quot;为主界面显示的目录的自定义名称，需要和主目录的名称一致，未填写在&quot;index&quot;中的主目录不会显示。1.0.1版插件商店配置文件版本为1.</p>
<h3 id="22-%E7%9B%AE%E5%BD%95%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8">2.2. 目录商品列表</h3>
<p>在目录商品列表中，可填写商品、随机商品或次目录。</p>
<h4 id="221-%E5%95%86%E5%93%81">2.2.1.	商品</h4>
<pre><code>{
    &quot;type&quot;: &quot;goods&quot;, //目录商品列表类型
    &quot;name&quot;: &quot;商品名&quot;,
    &quot;icon&quot;: &quot;textures/items/diamond&quot;, //图标
    &quot;range&quot;: {
        &quot;min&quot;: 1, //单次购买最小值
        &quot;max&quot;: 64, //单次购买最大值
        &quot;step&quot;: 1 //最小购买单位
    },
    &quot;goods&quot;: [
        …(商品列表)
    ],
    &quot;price&quot;: [
        …(价格列表)
    ]
}
</code></pre>
<p>购买商品时，将依据价格列表扣除玩家相应物品，并依据商品列表给予玩家对应商品。数量选择将以滑块形式呈现，&quot;range&quot;中的&quot;step&quot;即滑块步长。&quot;icon&quot;是界面展示时显示是按钮图标，不填写此项为无图标。图标填写的内容需为图片网址或已安装材质包中的文件路径。</p>
<h4 id="222-%E9%9A%8F%E6%9C%BA%E5%95%86%E5%93%81">2.2.2. 随机商品</h4>
<pre><code>{
    &quot;type&quot;: &quot;random&quot;, //目录商品列表类型
    &quot;name&quot;: &quot;随机商品&quot;,
    &quot;icon&quot;: &quot;textures/items/dye_powder_blue&quot;, //图标
    &quot;range&quot;: {
        &quot;min&quot;: 1, //单次购买最小值
        &quot;max&quot;: 64, //单次购买最大值
        &quot;step&quot;: 1 //最小购买单位
    },
    &quot;group&quot;: [ //随机商品组
        { //随机商品组1
            &quot;goods&quot;: [
                …(商品列表)
            ],
            &quot;weight&quot;: 1 //随机权重
        },
        { //随机商品组2
            &quot;goods&quot;: [
                …(商品列表)
            ],
            &quot;weight&quot;: 1//随机权重
        }
        …(更多随机商品组)
    ],
    &quot;price&quot;: [
        …(价格列表)
    ]
}
</code></pre>
<p>随机商品的配置几乎与普通商品一样，只是在商品列表外套了商品组。给予商品时会根据商品组的&quot;weight&quot;(权重)随机给予。如不填写&quot;weight&quot;值，将取默认值1。</p>
<h4 id="223-%E6%AC%A1%E7%9B%AE%E5%BD%95">2.2.3. 次目录</h4>
<pre><code>{
    &quot;type&quot;: &quot;dir&quot;, //目录商品列表类型
    &quot;name&quot;: &quot;次目录1&quot;,
    &quot;icon&quot;: &quot;textures/items/book&quot;, //图标
    &quot;dir&quot;: [
        …(目录商品列表)
    ]
}
</code></pre>
<p>次目录同样可以自定义图标和名称。在&quot;dir&quot;中可以和主目录一样填写商品、随机商品也可以再次填写次目录，无限套娃。</p>
<h3 id="23-%E5%95%86%E5%93%81%E7%B1%BB%E5%9E%8B">2.3. 商品类型</h3>
<p>各种类商品均可填写在商品列表中。目前一共有5钟商品类型，分别是普通物品、NBT物品、命令反馈、记分板值和LLMoney。</p>
<h4 id="231-%E6%99%AE%E9%80%9A%E7%89%A9%E5%93%81">2.3.1 普通物品</h4>
<pre><code>{
    &quot;type&quot;: &quot;item&quot;, //普通物品类型
    &quot;value&quot;: &quot;minecraft:bedrock&quot;, //物品标准类型名
    &quot;count&quot;: 1 //数量(还可以为{&quot;max&quot;: 5, &quot;min&quot;: 1})
}
</code></pre>
<p>当&quot;count&quot;为整数时，将给予对应数量的物品。当&quot;count&quot;为{&quot;max&quot;: 5, &quot;min&quot;: 1}时，将在最大数与最小数间取随机值给予物品。</p>
<h4 id="232-nbt%E7%89%A9%E5%93%81">2.3.2 NBT物品</h4>
<pre><code>{
    &quot;type&quot;: &quot;nbtitem&quot;, //NBT物品类型
    &quot;value&quot;: &quot;{\&quot;Count\&quot;:1b,\&quot;Name\&quot;:\&quot;minecraft:stick\&quot;,\&quot;WasPickedUp\&quot;:0b,\&quot;tag\&quot;:{\&quot;ench\&quot;:[{\&quot;id\&quot;:12s,\&quot;lvl\&quot;:5s}]}}&quot;, //物品SNBT
    &quot;count&quot;: 1 //数量(还可以为{&quot;max&quot;: 5, &quot;min&quot;: 1})
}
</code></pre>
<p>在游戏内使用&quot;/xshop get&quot;命令可获取手持物品的SNBT，SNBT会输出至控制台。无需更改SNBT中的物品数量，具体数量将由&quot;count&quot;控制。</p>
<h4 id="233-%E5%91%BD%E4%BB%A4%E5%8F%8D%E9%A6%88">2.3.3 命令反馈</h4>
<pre><code>{
    &quot;type&quot;: &quot;command&quot;, //命令反馈类型
    &quot;value&quot;: &quot;execute as ${playername} at ${playername} run locate structure village&quot;, //命令
    &quot;count&quot;: 1 //数量(还可以为{&quot;max&quot;: 5, &quot;min&quot;: 1})
}
</code></pre>
<p>玩家购买时，将会以控制台身份运行命令，并将输出文本发送至玩家。命令中的&quot;${playername}&quot;将会被替换为玩家的游戏代号。</p>
<h4 id="234-%E8%AE%B0%E5%88%86%E6%9D%BF%E5%80%BC">2.3.4 记分板值</h4>
<pre><code>{
    &quot;type&quot;: &quot;score&quot;, //记分板值类型
    &quot;value&quot;: &quot;coin&quot;, //记分项
    &quot;count&quot;: 1 //数量(还可以为{&quot;max&quot;: 5, &quot;min&quot;: 1})
}
</code></pre>
<p>请确保存在输入的记分项。玩家购买时，将会在自己的积分项加上&quot;count&quot;值。于其它几个商品不同，&quot;count&quot;可以为负数。</p>
<h4 id="235-llmoney">2.3.5 LLMoney</h4>
<pre><code>{
    &quot;type&quot;: &quot;llmoney&quot;, //LLMoney类型
    &quot;count&quot;: 1 //数量(还可以为{&quot;max&quot;: 5, &quot;min&quot;: 1})
}
</code></pre>
<h3 id="24-%E4%BB%B7%E6%A0%BC%E7%B1%BB%E5%9E%8B">2.4. 价格类型</h3>
<p>各种类价格均可填写在价格列表中。目前一共有4钟价格类型，分别是普通物品、命令反馈、记分板值和LLMoney。此处的填写方式与商品类型一致，因此不再赘述。需注意，扣款时记分板值和LLMoney须大于0。价格不能使用随机数量。</p>
<h3 id="25-%E7%A4%BC%E5%93%81%E7%A0%81">2.5. 礼品码</h3>
<p>兑换礼品码按钮将会在商店主界面显示。可以通过礼品码发放节日礼品。每个礼品码每个玩家限制领取一次。可以自定义礼品码的总领取次数。</p>
<h3 id="251-%E7%BB%93%E6%9E%84">2.5.1. 结构</h3>
<pre><code>&quot;gift_code&quot;: {
    &quot;礼品码1&quot;: { //玩家输入的礼品码(礼品码1)
        …(目录商品列表),
        &quot;limit&quot;: 5 //总领取次数限制
    },
    &quot;礼品码2&quot;: { //玩家输入的礼品码
        …(目录商品列表),
        &quot;limit&quot;: 0 //无总领取次数限制
    }
    …(更多礼品码)
},
</code></pre>
<p>&quot;limit&quot;为礼品码总领取次数限制，不填写或填0为无限制。礼品码中的内容与目录商品列表一样，但多了&quot;limit&quot;。</p>
<h2 id="3-%E7%AE%80%E6%98%93%E5%AE%9E%E4%BE%8B">3. 简易实例</h2>
<pre><code>{
    &quot;index&quot;: [
        &quot;§l兑换积分&quot;,
        &quot;§l抽奖&quot;
    ],
    &quot;version&quot;: 1,
    &quot;gift_code&quot;: {
        &quot;击退木棍1&quot;: {
                &quot;type&quot;: &quot;nbtitem&quot;,
                &quot;value&quot;: &quot;{\&quot;Count\&quot;:1b,\&quot;Name\&quot;:\&quot;minecraft:stick\&quot;,\&quot;WasPickedUp\&quot;:0b,\&quot;tag\&quot;:{\&quot;ench\&quot;:[{\&quot;id\&quot;:12s,\&quot;lvl\&quot;:5s}]}}&quot;,
                &quot;count&quot;: 1,
                &quot;limit&quot;: 5
            }
    },
    &quot;§l兑换积分&quot;: [
        {
            &quot;type&quot;: &quot;goods&quot;,
            &quot;name&quot;: &quot;§l1煤炭+1木炭换积分1+1:2&quot;,
            &quot;icon&quot;: &quot;textures/items/coal&quot;,
            &quot;range&quot;: {
                &quot;min&quot;: 32,
                &quot;max&quot;: 128,
                &quot;step&quot;: 8
            },
            &quot;goods&quot;: [
                {
                    &quot;type&quot;: &quot;score&quot;,
                    &quot;value&quot;: &quot;JF&quot;,
                    &quot;count&quot;: 2
                }
            ],
            &quot;price&quot;: [
                {
                    &quot;type&quot;: &quot;item&quot;,
                    &quot;value&quot;: &quot;minecraft:coal&quot;,
                    &quot;count&quot;: 1
                },
                {
                    &quot;type&quot;: &quot;item&quot;,
                    &quot;value&quot;: &quot;minecraft:charcoal&quot;,
                    &quot;count&quot;: 1
                }
            ]
        },
        {
            &quot;type&quot;: &quot;goods&quot;,
            &quot;name&quot;: &quot;§l§4红石换积分1:1&quot;,
            &quot;icon&quot;: &quot;textures/items/redstone_dust&quot;,
            &quot;range&quot;: {
                &quot;min&quot;: 32,
                &quot;max&quot;: 128,
                &quot;step&quot;: 8
            },
            &quot;goods&quot;: [
                {
                    &quot;type&quot;: &quot;score&quot;,
                    &quot;value&quot;: &quot;JF&quot;,
                    &quot;count&quot;: 1
                }
            ],
            &quot;price&quot;: [
                {
                    &quot;type&quot;: &quot;item&quot;,
                    &quot;value&quot;: &quot;minecraft:redstone&quot;,
                    &quot;count&quot;: 1
                }
            ]
        }
    ],
    &quot;§l抽奖&quot;: [
        {
            &quot;type&quot;: &quot;dir&quot;,
            &quot;name&quot;: &quot;§l矿石&quot;,
            &quot;icon&quot;: &quot;textures/blocks/diamond_block&quot;,
            &quot;dir&quot;: [
                {
                    &quot;type&quot;: &quot;random&quot;,
                    &quot;name&quot;: &quot;§l随机矿石&quot;,
                    &quot;range&quot;: {
                        &quot;min&quot;: 1,
                        &quot;max&quot;: 256,
                        &quot;step&quot;: 32
                    },
                    &quot;group&quot;: [
                        {
                            &quot;goods&quot;: [
                                {
                                    &quot;type&quot;: &quot;item&quot;,
                                    &quot;value&quot;: &quot;minecraft:diamond&quot;,
                                    &quot;count&quot;: 1
                                }
                            ],
                            &quot;weight&quot;: 1
                        },
                        {
                            &quot;goods&quot;: [
                                {
                                    &quot;type&quot;: &quot;item&quot;,
                                    &quot;value&quot;: &quot;minecraft:emerald&quot;,
                                    &quot;count&quot;: 1
                                }
                            ],
                            &quot;weight&quot;: 1
                        },
                        {
                            &quot;goods&quot;: [
                                {
                                    &quot;type&quot;: &quot;item&quot;,
                                    &quot;value&quot;: &quot;minecraft:gold_ingot&quot;,
                                    &quot;count&quot;: 1
                                }
                            ],
                            &quot;weight&quot;: 3
                        },
                        {
                            &quot;goods&quot;: [
                                {
                                    &quot;type&quot;: &quot;item&quot;,
                                    &quot;value&quot;: &quot;minecraft:copper_ingot&quot;,
                                    &quot;count&quot;: 1
                                }
                            ],
                            &quot;weight&quot;: 4
                        }
                    ],
                    &quot;price&quot;: [
                        {
                            &quot;type&quot;: &quot;item&quot;,
                            &quot;value&quot;: &quot;minecraft:bedrock&quot;,
                            &quot;count&quot;: 1
                        }
                    ]
                }
            ]
        }
    ]
}</code></pre>

</body>
</html>
